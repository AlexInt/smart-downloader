# 需求文档

## 介绍

本需求旨在开发一个 Python 脚本，能够接收网页 URL，自动解析网页内容以查找 m3u8 视频流地址，并将其下载为 MP4 格式。下载文件将随机命名并保存到指定目录。

## 需求

### 需求 1 - 网页自动解析与下载

- 用户故事:
  ** 作为一名用户，我希望提供一个包含视频的网页地址，脚本能够自动找到其中的 m3u8 链接并下载视频，而不需要我手动查找 m3u8 地址。

#### 验收标准

1.  While 用户提供有效的网页 URL, when 运行脚本, the 系统 shall 使用浏览器自动化工具（如 Selenium）加载网页。
2.  The 系统 shall 在加载后的页面中自动查找以 `.m3u8` 结尾的链接或资源。
3.  The 系统 shall 提取找到的第一个有效 m3u8 URL。
4.  The 系统 shall 使用提取到的 m3u8 URL 进行视频下载（复用已有的下载逻辑：随机命名、保存到 `~/Downloads/tx`、支持非标准后缀）。
5.  When 未能在网页中找到 m3u8 链接, the 系统 shall 提示用户并退出。
6.  The 系统 shall 支持无头模式（Headless）运行，无需显示浏览器界面。

### 需求 2 - 智能输入识别（可选/进阶）

- 用户故事:
  ** 用户希望脚本能智能识别输入是直接的 m3u8 地址还是网页地址。

#### 验收标准

1.  When 用户提供的 URL 以 `.m3u8` 结尾, the 系统 shall 直接进行下载。
2.  When 用户提供的 URL 不以 `.m3u8` 结尾, the 系统 shall 默认将其视为网页并尝试解析。
